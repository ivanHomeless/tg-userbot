# –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (–∫–∞–Ω–∞–ª–∞–º–∏/–≥—Ä—É–ø–ø–∞–º–∏) –≤ –±–æ—Ç–µ.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –†–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è userbot (—Ñ–∞–π–ª `data/userbot.session`)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `.env` —Ñ–∞–π–ª —Å `API_ID` –∏ `API_HASH`
- –ó–∞–ø—É—â–µ–Ω–Ω–∞—è PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## –°–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤

### 1. fetch_channel_info.py
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–Ω–∞–ª–∞—Ö –ø–æ –∏—Ö ID

### 2. add_sources_from_ids.py
–ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ ID

### 3. add_sources_from_links.py
–ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º/username ‚≠ê –ù–û–í–û–ï

---

## 1. fetch_channel_info.py

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–Ω–∞–ª–∞—Ö –ø–æ –∏—Ö ID.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–∏–∞–ª–æ–≥–∏ userbot

```bash
python -m scripts.fetch_channel_info --list
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤/–≥—Ä—É–ø–ø, –≥–¥–µ userbot —è–≤–ª—è–µ—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–º.

#### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ ID

```bash
python -m scripts.fetch_channel_info -1001234567890 -1009876543210
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∫–∞–Ω–∞–ª–µ + SQL –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ë–î.

#### –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ –ë–î

```bash
python -m scripts.fetch_channel_info --all
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –æ–±–Ω–æ–≤–ª—è–µ—Ç `title` –∏ `username` –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ `source`.

---

## 2. add_sources_from_ids.py

–ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ —Å ID.

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ `data/sources_ids.txt`:

```
-1001234567890
-1009876543210
-1005555555555
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python -m scripts.add_sources_from_ids data/sources_ids.txt
```

---

## 3. add_sources_from_links.py ‚≠ê

–ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º –∏ username.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- `@username`
- `t.me/username`
- `https://t.me/username`
- `https://t.me/+XXX` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ)
- `https://t.me/joinchat/XXX` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ)

### –°–ø–æ—Å–æ–± 1: –ò–∑ —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ `data/sources_links.txt`:

```
# –ü—É–±–ª–∏—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
@military_news
t.me/tactical_gear
https://t.me/equipment_shop

# –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
https://t.me/+ABC123XYZ
https://t.me/joinchat/DEF456UVW
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
python -m scripts.add_sources_from_links data/sources_links.txt
```

### –°–ø–æ—Å–æ–± 2: –ò–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```bash
# –û–¥–∏–Ω –∫–∞–Ω–∞–ª
python -m scripts.add_sources_from_links @military_news

# –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤
python -m scripts.add_sources_from_links @channel1 @channel2 @channel3

# –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
python -m scripts.add_sources_from_links t.me/channel https://t.me/+XXX
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üìã –î–æ–±–∞–≤–ª–µ–Ω–∏–µ 3 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
================================================================================
‚úÖ –ü–æ–¥–ø–∏—Å–∞–ª—Å—è –Ω–∞ –∫–∞–Ω–∞–ª: Military News Channel
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ –ë–î: -1001234567890 - Military News Channel
‚úÖ –í—Å—Ç—É–ø–∏–ª –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–∞–Ω–∞–ª: Private Tactical Group
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ –ë–î: -1009876543210 - Private Tactical Group
‚è≠Ô∏è -1005555555555 —É–∂–µ –≤ –ë–î: Old Channel
================================================================================
üìä –ò—Ç–æ–≥–æ:
   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: 2
   ‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ (–¥—É–±–ª–∏–∫–∞—Ç—ã): 1
   ‚ùå –û—à–∏–±–æ–∫: 0
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ username

```bash
# –ü—Ä–æ—Å—Ç–æ —É–∫–∞–∂–∏—Ç–µ username
python -m scripts.add_sources_from_links @my_channel
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–æ —Å—Å—ã–ª–∫–∞–º–∏
cat > data/sources_links.txt << EOF
@channel1
@channel2
https://t.me/+privatelink
EOF

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
python -m scripts.add_sources_from_links data/sources_links.txt
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –£–∑–Ω–∞—Ç—å ID –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤

```bash
# –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∫–∞–Ω–∞–ª—ã —Å ID
python -m scripts.fetch_channel_info --list

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ ID –∏ –¥–æ–±–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π —Å–∫—Ä–∏–ø—Ç
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º

```bash
# –£–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–Ω–∞–ª–µ –ø–æ ID
python -m scripts.fetch_channel_info -1001234567890

# –ï—Å–ª–∏ –≤—Å—ë –û–ö, –¥–æ–±–∞–≤–∏—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ
python -m scripts.add_sources_from_links @channel_username
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

| –°–∫—Ä–∏–ø—Ç | –í—Ö–æ–¥ | –î–µ–π—Å—Ç–≤–∏–µ | –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ |
|--------|------|----------|------------|
| **add_sources_from_ids.py** | ID –∫–∞–Ω–∞–ª–æ–≤ | –¢–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î | ‚ùå –ù–µ—Ç |
| **add_sources_from_links.py** | –°—Å—ã–ª–∫–∏/username | –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ | ‚úÖ –î–∞ |

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- **add_sources_from_ids.py** - –µ—Å–ª–∏ userbot —É–∂–µ —É—á–∞—Å—Ç–Ω–∏–∫ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤
- **add_sources_from_links.py** - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—Å—Ç—É–ø–∏—Ç—å –≤ –Ω–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã

---

## –†–∞–±–æ—Ç–∞ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏

### –ß–µ—Ä–µ–∑ invite link

```bash
# –ü–æ–ª–Ω–∞—è —Å—Å—ã–ª–∫–∞
python -m scripts.add_sources_from_links https://t.me/+ABC123XYZ

# –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç
python -m scripts.add_sources_from_links https://t.me/joinchat/ABC123XYZ
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. Userbot –≤—Å—Ç—É–ø–∞–µ—Ç –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–∞–Ω–∞–ª
2. –ü–æ–ª—É—á–∞–µ—Ç `chat_id` –∏ `access_hash`
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î: `join_link = "private:<access_hash>"`
4. –¢–µ–ø–µ—Ä—å –±–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —ç—Ç–æ–≥–æ –∫–∞–Ω–∞–ª–∞

---

## Troubleshooting

### –û—à–∏–±–∫–∞: "–°—Å—ã–ª–∫–∞ –∏—Å—Ç–µ–∫–ª–∞"

**–ü—Ä–∏—á–∏–Ω–∞**: invite link –±–æ–ª—å—à–µ –Ω–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ**: –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∫–∞–Ω–∞–ª–∞.

### –û—à–∏–±–∫–∞: "–ö–∞–Ω–∞–ª –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∏–ª–∏ –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞**: –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–Ω–∞–ª—É.

**–†–µ—à–µ–Ω–∏–µ**: 
- –î–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–±–∞–Ω–µ–Ω –ª–∏ userbot
- –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ invite link

### –û—à–∏–±–∫–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏"

**–ü—Ä–∏—á–∏–Ω–∞**: –Ω–µ–≤–µ—Ä–Ω—ã–π username –∏–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è username.

### FloodWaitError

**–ü—Ä–∏—á–∏–Ω–∞**: —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Telegram API.

**–†–µ—à–µ–Ω–∏–µ**: —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∂–¥—ë—Ç 2 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏. –ü—Ä–∏ FloodWait ‚Äî –∂–¥—ë—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
project/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                     # –ü–∞–∫–µ—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ fetch_channel_info.py           # –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ add_sources_from_ids.py         # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ ID
‚îÇ   ‚îú‚îÄ‚îÄ add_sources_from_links.py       # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–∞–º ‚≠ê
‚îÇ   ‚îî‚îÄ‚îÄ README.md                        # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ sources_ids.txt.example          # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å ID
‚îÇ   ‚îú‚îÄ‚îÄ sources_links.txt.example        # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ ‚≠ê
‚îÇ   ‚îî‚îÄ‚îÄ userbot.session                  # –°–µ—Å—Å–∏—è Telethon
‚îî‚îÄ‚îÄ main.py
```

---

## –®–ø–∞—Ä–≥–∞–ª–∫–∞ –∫–æ–º–∞–Ω–¥

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞–Ω–∞–ª—ã userbot
python -m scripts.fetch_channel_info --list

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–Ω–∞–ª –ø–æ ID
python -m scripts.fetch_channel_info -1001234567890

# –î–æ–±–∞–≤–∏—Ç—å –ø–æ username (–±—ã—Å—Ç—Ä–æ)
python -m scripts.add_sources_from_links @channel_name

# –î–æ–±–∞–≤–∏—Ç—å –ø–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å—Å—ã–ª–∫–µ
python -m scripts.add_sources_from_links https://t.me/+XXX

# –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞ (ID)
python -m scripts.add_sources_from_ids data/sources_ids.txt

# –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞ (—Å—Å—ã–ª–∫–∏)
python -m scripts.add_sources_from_links data/sources_links.txt

# –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –ë–î
python -m scripts.fetch_channel_info --all
```
