# –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (–∫–∞–Ω–∞–ª–∞–º–∏/–≥—Ä—É–ø–ø–∞–º–∏) –≤ –±–æ—Ç–µ.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –†–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è userbot (—Ñ–∞–π–ª `data/userbot.session`)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `.env` —Ñ–∞–π–ª —Å `API_ID` –∏ `API_HASH`
- –ó–∞–ø—É—â–µ–Ω–Ω–∞—è PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## 1. fetch_channel_info.py

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–Ω–∞–ª–∞—Ö –ø–æ –∏—Ö ID.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–∏–∞–ª–æ–≥–∏ userbot

```bash
python -m scripts.fetch_channel_info --list
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤/–≥—Ä—É–ø–ø, –≥–¥–µ userbot —è–≤–ª—è–µ—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–º.

#### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ ID

```bash
python -m scripts.fetch_channel_info -1001234567890 -1009876543210
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∫–∞–Ω–∞–ª–µ + SQL –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ë–î.

#### –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ –ë–î

```bash
python -m scripts.fetch_channel_info --all
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –æ–±–Ω–æ–≤–ª—è–µ—Ç `title` –∏ `username` –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ `source`.

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
‚úÖ -1001234567890
   –ù–∞–∑–≤–∞–Ω–∏–µ: Military News Channel
   Username: @mil_news
   –¢–∏–ø: channel
   –ü—Ä–∏–≤–∞—Ç–Ω—ã–π: –ù–µ—Ç
   –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: 15234
   Access Hash: 1234567890123456789

   üìù SQL –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ë–î:
   INSERT INTO source (chat_id, username, title, join_link, is_active)
   VALUES (-1001234567890, 'mil_news', 'Military News Channel', 'https://t.me/mil_news', true);
```

---

## 2. add_sources_from_ids.py

–ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ —Å ID.

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å ID (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É):

```
-1001234567890
-1009876543210
-1005555555555
```

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è (—Å—Ç—Ä–æ–∫–∏ –Ω–µ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `-` –∏–ª–∏ —Ü–∏—Ñ—Ä—ã).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python -m scripts.add_sources_from_ids data/sources_ids.txt
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üìã –ù–∞–π–¥–µ–Ω–æ 3 ID –≤ —Ñ–∞–π–ª–µ
================================================================================
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: -1001234567890 - Military News Channel
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: -1009876543210 - Tactical Gear Shop
‚è≠Ô∏è -1005555555555 —É–∂–µ –≤ –ë–î: Old Channel
================================================================================
üìä –ò—Ç–æ–≥–æ:
   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: 2
   ‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ (–¥—É–±–ª–∏–∫–∞—Ç—ã): 1
   ‚ùå –û—à–∏–±–æ–∫: 0
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ ID

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å ID
cat > data/sources_ids.txt << EOF
-1001234567890
-1009876543210
EOF

# 2. –î–æ–±–∞–≤—å—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –ë–î
python -m scripts.add_sources_from_ids data/sources_ids.txt

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python main.py
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£–∑–Ω–∞—Ç—å ID –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤ userbot

```bash
# –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∫–∞–Ω–∞–ª—ã —Å ID
python -m scripts.fetch_channel_info --list

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ ID –∏ –¥–æ–±–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ SQL –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

```bash
# –û–±–Ω–æ–≤–∏—Ç title –∏ username –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –ë–î
python -m scripts.fetch_channel_info --all
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º

```bash
# –£–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–Ω–∞–ª–µ
python -m scripts.fetch_channel_info -1001234567890

# –ï—Å–ª–∏ –≤—Å—ë –û–ö, –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ SQL (–∏–∑ –≤—ã–≤–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞)
```

---

## –†–∞–±–æ—Ç–∞ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏

–î–ª—è **–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö** –∫–∞–Ω–∞–ª–æ–≤ (–±–µ–∑ @username):

- `join_link` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `private:<access_hash>`
- `username` = `None`
- Userbot –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—É—á–∞—Å—Ç–Ω–∏–∫–æ–º** –∫–∞–Ω–∞–ª–∞ (–∏–Ω–∞—á–µ –æ—à–∏–±–∫–∞)

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞**:

```
‚úÖ -1009876543210
   –ù–∞–∑–≤–∞–Ω–∏–µ: Private Military Group
   Username: (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
   –¢–∏–ø: megagroup
   –ü—Ä–∏–≤–∞—Ç–Ω—ã–π: –î–∞

   üìù SQL –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ë–î:
   INSERT INTO source (chat_id, username, title, join_link, is_active)
   VALUES (-1009876543210, None, 'Private Military Group', 'private:9876543210987654321', true);
```

---

## Troubleshooting

### –û—à–∏–±–∫–∞: "userbot –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–º"

**–ü—Ä–∏—á–∏–Ω–∞**: userbot –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –∫–∞–Ω–∞–ª–µ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID.

**–†–µ—à–µ–Ω–∏–µ**: 
1. –í—Å—Ç—É–ø–∏—Ç–µ –≤ –∫–∞–Ω–∞–ª —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫–∫–∞—É–Ω—Ç
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bot.add_source_by_link()` –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞**: –Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É.

**–†–µ—à–µ–Ω–∏–µ**: —É–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞.

### FloodWaitError

**–ü—Ä–∏—á–∏–Ω–∞**: —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Telegram API.

**–†–µ—à–µ–Ω–∏–µ**: —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∂–¥—ë—Ç 1 —Å–µ–∫—É–Ω–¥—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è ‚Äî —É–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É –≤ –∫–æ–¥–µ.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
project/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                    # –ü–∞–∫–µ—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ fetch_channel_info.py          # –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ add_sources_from_ids.py        # –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ README.md                       # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ sources_ids.txt                 # –§–∞–π–ª —Å ID (–ø—Ä–∏–º–µ—Ä)
‚îÇ   ‚îî‚îÄ‚îÄ userbot.session                 # –°–µ—Å—Å–∏—è Telethon
‚îî‚îÄ‚îÄ main.py
```
